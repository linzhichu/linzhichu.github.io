---
layout: post
title: Python threading 模块
categories: computers
tags: Python
---

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">最简单的多线程实现</h2>
<div class="outline-text-2" id="text-1">
<p>
通过为 <code>Thread</code> 传入 <code>target</code> 参数可以启动一个最简单的线程
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #E1BEE7;">import</span> time
<span style="color: #E1BEE7;">from</span> threading <span style="color: #E1BEE7;">import</span> Thread

<span style="color: #E1BEE7;">def</span> <span style="color: #64B5F6;">thread_worker</span>():
<span style="color: #9E9E9E; background-color: #474747;"> </span>   <span style="color: #E1BEE7;">for</span> i <span style="color: #E1BEE7;">in</span> <span style="color: #80DEEA;">xrange</span>(3):
        time.sleep(2)
        <span style="color: #E1BEE7;">print</span> <span style="color: #C5E1A5;">'threaded worker at %d'</span> % i


<span style="color: #E1BEE7;">if</span> <span style="color: #80DEEA;">__name__</span> == <span style="color: #C5E1A5;">'__main__'</span>:
<span style="color: #9E9E9E; background-color: #474747;"> </span>   <span style="color: #80CBC4;">t</span> = Thread(target=thread_worker)
<span style="color: #9E9E9E; background-color: #474747;"> </span>   t.start()
<span style="color: #9E9E9E; background-color: #474747;"> </span>   time.sleep(0.5)
<span style="color: #9E9E9E; background-color: #474747;"> </span>   <span style="color: #E1BEE7;">for</span> i <span style="color: #E1BEE7;">in</span> <span style="color: #80DEEA;">xrange</span>(3):
        time.sleep(1)
        <span style="color: #E1BEE7;">print</span> <span style="color: #C5E1A5;">'main thread at %d'</span> % i
</pre>
</div>
<p>
从输出结果可以看到，两个线程互不干扰地各自执行
</p>
<div class="org-src-container">

<pre class="src src-sh">$ python test_thread.py 
main thread at 0
threaded worker at 0
main thread at 1
main thread at 2
threaded worker at 1
threaded worker at 2
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Thread对象</h2>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">daemon vs non-daemon</h2>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"></h2>
</div>
